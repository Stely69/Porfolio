---
import Layout from '../layouts/Layout.astro';
import Cards from '../components/Cards.astro';
import {Image} from 'astro:assets';
import logo from '../assets/images/JavaScript-logo.png';
---
<Layout title="Inicio">
  <section class="relative min-h-screen flex items-center justify-center overflow-hidden bg-gradient-to-br from-[#0d0f1b] to-[#0a0c15]">
    <!-- capa de estrellas -->
    <div class="absolute inset-0 bg-[url('/stars.svg')] bg-repeat opacity-20"></div>
  
    <div class="relative z-10 grid gap-10 lg:grid-cols-2 max-w-7xl w-full px-2">
      <!-- Texto -->
      <div class="flex flex-col justify-center text-center lg:text-left">
        <h1 class="text-4xl md:text-5xl lg:text-6xl font-extrabold leading-tight text-white">
          HOLA, SOY<br />
          <span class="text-primary">WILLIAM VANEGAS</span>
        </h1>
      
        <p class="mt-4 text-base-content/70 text-sm md:text-base">
          Desarrollador Web&nbsp;| Diseñador UI&nbsp;| Creador de soluciones digitales | Desarrollador de Software&nbsp;| Aprendiz de IA
        </p>
      
        <div class="mt-8 flex flex-col sm:flex-row gap-4 sm:gap-6 justify-center lg:justify-start">
          <a href="/proyectos" class="btn btn-primary px-8">Ver mis proyectos</a>
          <a href="/contacto" class="btn btn-outline btn-secondary">Contáctame</a>
        </div>
      </div>
    
      <!-- Imagen JS 3‑D -->
      <div class="flex justify-center items-center">
        <div class="relative w-48 sm:w-60 md:w-72 lg:w-96">
          <div 
            id="jsLogoTilt"
            class="rounded-xl shadow-xl overflow-hidden p-4 bg-transparent w-full h-full relative"
            style="will-change: transform; perspective: 1000px;"
          >
            <Image 
              src={logo} 
              alt="JavaScript Logo"
              width={256}
              height={256} 
              class="w-full h-auto rounded-3xl shadow-2xl rotate-3"
            />
          </div>
          <!-- aro violeta detrás -->
          <div 
            id="jsLogoRing"
            class="absolute inset-0 rounded-3xl rotate-3 ring-8 ring-primary -z-10"
          ></div>
        </div>
      </div>
    </div>
  </section>
  
  <section class="py-32 bg-base-200 text-base-content">
    <div class="max-w-6xl mx-auto px-4 text-center">
      <h2 class="text-3xl font-bold mb-10">Lo que sé hacer</h2>
      <div class="grid grid-cols-2 md:grid-cols-4 gap-6">
        <Cards nombreIcono="mdi:language-html5" title2="HTML" />
        <Cards nombreIcono="mdi:language-css3" title2="CSS" />
        <Cards nombreIcono="mdi:language-javascript" title2="JavaScript" />
        <Cards nombreIcono="mdi:home" title2="Astro" />
        <Cards nombreIcono="mdi:tailwind" title2="TailwindCSS" />
        <Cards nombreIcono="mdi:git" title2="Git" />
        <Cards nombreIcono="mdi:home" title2="DaisyUI" />
        <Cards nombreIcono="mdi:language-php" title2="PHP" />
      </div>
    </div>
  </section>
  
  <section class="bg-primary text-primary-content text-center py-24 glass">
    <h2 class="text-3xl font-semibold mb-4">Trabajemos juntos.</h2>
    <p class="mb-6 text-primary-content/80">
      Estoy abierto a nuevos proyectos o colaboraciones. ¿Tienes algo en mente?
    </p>
    <a class="btn btn-primary" href="/contacto">Contáctame</a>
  </section>

  <script src="https://cdn.jsdelivr.net/npm/vanilla-tilt@1.8.0/dist/vanilla-tilt.min.js"></script>
  <script is:inline>
    window.addEventListener('DOMContentLoaded', () => {
      const section = document.querySelector('#hero');
      const tilt = document.querySelector('#jsLogoTilt');

      VanillaTilt.init(tilt, {
        max: 25,
        speed: 400,
        glare: true,
        "max-glare": 0.2,
        reverse: true,
      });

      section.addEventListener('mouseenter', () => {
        tilt.vanillaTilt?.enable();
      });

      section.addEventListener('mouseleave', () => {
        tilt.vanillaTilt?.disable();
      });
    });
    
    const ring = document.querySelector('#jsLogoRing');

    // Sync the ring's movement with the tilt effect
    tilt.addEventListener('tiltChange', (event) => {
      const { tiltX, tiltY } = event.detail;
      ring.style.transform = `rotate3d(${tiltY}, ${-tiltX}, 0, 10deg)`;
    });
  </script>
</Layout>
